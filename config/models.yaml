# Model-specific configurations for pipeline stages
# Each model family can have different parameters based on its context window size

models:
  gemma2:
    # Context: 8K tokens (~24K chars)
    # Current production model - conservative settings
    context_tokens: 8192
    cleaner:
      chunk_size: 3000          # Max characters per chunk
      chunk_overlap: 200        # Overlap between chunks
      small_text_threshold: 3500  # Below this - no chunking needed
    chunker:
      large_text_threshold: 10000  # Above this - use outline extraction
      min_chunk_words: 100         # Minimum words per semantic chunk
      target_chunk_words: 250      # Target when merging small chunks
    text_splitter:
      part_size: 6000           # Target size per part in characters
      overlap_size: 1500        # Overlap between adjacent parts
      min_part_size: 2000       # Minimum size for last part

  qwen2:
    # Context: 32K tokens (~100K chars)
    # Larger chunks for better context understanding
    context_tokens: 32768
    cleaner:
      chunk_size: 8000
      chunk_overlap: 500
      small_text_threshold: 9000
    chunker:
      large_text_threshold: 25000
      min_chunk_words: 100
      target_chunk_words: 250
    text_splitter:
      part_size: 15000
      overlap_size: 3000
      min_part_size: 5000

  qwen3:
    # Context: 40K tokens (~120K chars)
    # Even larger chunks for maximum context
    context_tokens: 40960
    cleaner:
      chunk_size: 10000
      chunk_overlap: 600
      small_text_threshold: 11000
    chunker:
      large_text_threshold: 30000
      min_chunk_words: 100
      target_chunk_words: 250
    text_splitter:
      part_size: 20000
      overlap_size: 4000
      min_part_size: 6000

# Default fallback values (used when model not found)
defaults:
  cleaner:
    chunk_size: 3000
    chunk_overlap: 200
    small_text_threshold: 3500
  chunker:
    large_text_threshold: 10000
    min_chunk_words: 100
    target_chunk_words: 250
  text_splitter:
    part_size: 6000
    overlap_size: 1500
    min_part_size: 2000
