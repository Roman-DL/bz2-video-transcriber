---
doc_type: reference
ai_scope: none
status: active
created: 2026-01-23
updated: 2026-01-23
tags:
  - documentation
  - meta
  - framework
---

# Diátaxis+ Framework

> Система классификации документации, основанная на [Diátaxis](https://diataxis.fr/) с расширениями для AI-first разработки.

---

## Зачем нужна классификация

Без системы классификации:
- Непонятно, где искать информацию
- Документы смешивают разные цели (обучение + справка + обоснование)
- AI-агенты не могут эффективно навигировать
- При обновлении неясно, что именно менять

С классификацией:
- Каждый документ имеет чёткое назначение
- Легко найти нужный тип информации
- Агенты фильтруют по типу и аудитории
- Обновления точечные и предсказуемые

---

## Оригинальный Diátaxis

Diátaxis (от греч. "через" + "arrangement") — фреймворк организации технической документации, разделяющий её по двум осям:

|                | **Обучение** (acquiring) | **Применение** (applying) |
|----------------|--------------------------|---------------------------|
| **Практика**   | Tutorial                 | How-to                    |
| **Теория**     | Explanation              | Reference                 |

### Четыре базовых типа

#### Tutorial (Обучение)
**Цель:** Научить новичка через практику

- Ориентация: learning-oriented
- Формат: пошаговые инструкции с гарантированным результатом
- Автор ведёт читателя за руку
- Минимум объяснений "почему"

**Маркеры:**
- "Давайте создадим..."
- "В этом уроке вы научитесь..."
- Последовательные шаги 1, 2, 3...

**Пример:** "Обработка первого видео за 10 минут"

---

#### How-to (Руководство)
**Цель:** Решить конкретную задачу

- Ориентация: task-oriented
- Формат: шаги для достижения цели
- Предполагает базовые знания
- Отвечает на "как сделать X"

**Маркеры:**
- "Как добавить..."
- "Настройка..."
- Чёткая цель в заголовке

**Пример:** "Как добавить новый этап в pipeline"

---

#### Reference (Справка)
**Цель:** Предоставить точную информацию

- Ориентация: information-oriented
- Формат: структурированные данные
- Полнота и точность важнее читабельности
- Отвечает на "что это" и "какие параметры"

**Маркеры:**
- Таблицы параметров
- Списки значений
- API endpoints
- Форматы данных

**Пример:** "API Reference", "Конфигурация", "Форматы данных"

---

#### Explanation (Объяснение)
**Цель:** Дать понимание "почему"

- Ориентация: understanding-oriented
- Формат: связный текст с рассуждениями
- Контекст, история решений, альтернативы
- Отвечает на "почему так"

**Маркеры:**
- "Архитектура..."
- "Причины выбора..."
- Обсуждение компромиссов

**Пример:** "Архитектура системы", "Почему Claude вместо Ollama"

---

## Расширения для проекта (Diátaxis+)

Оригинальный Diátaxis не покрывает документы жизненного цикла проекта. Добавляем три типа:

### ADR (Architecture Decision Record)
**Цель:** Зафиксировать архитектурное решение

- Формат: структурированный (Контекст → Решение → Последствия)
- Иммутабельный после принятия
- Статусы: proposed, accepted, deprecated, superseded

**Отличие от Explanation:**
- ADR — конкретное решение в конкретный момент
- Explanation — общее понимание, может обновляться

**Пример:** "ADR-007: Удаление fallback, переход на Claude"

---

### Proposal (Предложение)
**Цель:** Описать планируемое изменение до реализации

- Формат: проблема → предлагаемое решение → критерии успеха
- Временный статус: превращается в ADR или архивируется
- Статусы: draft, review, accepted, rejected, implemented

**Процесс создания:**

| Этап | Где | Результат |
|------|-----|-----------|
| Обсуждение идеи | Claude Desktop / чат | Понимание задачи |
| Формализация | Claude Desktop → файл | **Proposal** |
| Реализация | Claude Code | Код + тесты |
| Фиксация | После реализации | ADR (если архитектурно значимо) |

**Содержимое Proposal:**
- Проблема / контекст
- Требования (функциональные, нефункциональные)
- Предлагаемый подход
- Критерии готовности (definition of done)
- Открытые вопросы

**Отличие от ADR:**
- Proposal — до решения (обсуждение, требования)
- ADR — после решения (фиксация принятого решения)

**Пример:** "Proposal: Интеграция slides extraction"

---

### Audit (Аудит)
**Цель:** Зафиксировать состояние системы на момент времени

- Формат: что проверяли → что нашли → рекомендации
- Snapshot, не обновляется (создаётся новый аудит)
- Привязан к версии/дате

**Пример:** "Baseline 2026-01: Аудит документации"

---

## Типы документов — сводная таблица

| Тип | Вопрос | Формат | Обновление |
|-----|--------|--------|------------|
| Tutorial | Как научиться? | Пошаговый урок | При изменении UX |
| How-to | Как сделать X? | Шаги к цели | При изменении процесса |
| Reference | Что это? Какие параметры? | Таблицы, списки | При изменении API/конфига |
| Explanation | Почему так? | Связный текст | При изменении понимания |
| ADR | Что решили и почему? | Контекст → Решение | Не обновляется |
| Proposal | Что планируем? | Проблема → Решение | До реализации |
| Audit | Каково состояние? | Факты → Рекомендации | Не обновляется |

---

## Жизненные циклы

### Обновляемые документы

**Tutorial, How-to, Reference, Explanation** — живые документы, обновляются при изменениях в коде.

```
Создание → Актуален → Обновление → ... → Устарел → Архив/Удаление
              ↑______________|
```

| Статус | Когда | Действие |
|--------|-------|----------|
| `draft` | Документ в работе | Не использовать как источник истины |
| `active` | Документ актуален | Основной статус |
| `outdated` | Код изменился | Требует обновления |
| `deprecated` | Функционал удалён | Перенести в archive/ или удалить |

---

### ADR — иммутабельные

ADR не редактируются после принятия. При изменении решения создаётся новый ADR.

```
Proposed → Accepted → [живёт вечно]
                   ↘ Superseded by ADR-XXX
                   ↘ Deprecated (решение отменено)
```

| Статус | Значение |
|--------|----------|
| `proposed` | На обсуждении |
| `accepted` | Принят, действует |
| `superseded` | Заменён другим ADR (указать каким) |
| `deprecated` | Решение больше не актуально |

**Правило:** Никогда не редактировать принятый ADR. Только добавить примечание со ссылкой на новый.

---

### Proposal — временные

Proposal существует до завершения реализации, затем меняет статус.

```
Draft → Review → Accepted → Implemented → [архив]
            ↘ Rejected → [архив]
```

| Статус | Значение |
|--------|----------|
| `draft` | В работе, не готов к ревью |
| `review` | Готов к обсуждению |
| `accepted` | Одобрен, можно реализовывать |
| `rejected` | Отклонён (указать причину) |
| `implemented` | Реализован, можно архивировать |

**После реализации:**
- Если было архитектурное решение → создать ADR
- Proposal остаётся в `proposals/` со статусом `implemented` или переносится в `archive/`

---

### Audit — snapshot'ы

Audit не обновляется. Для нового состояния создаётся новый audit.

```
Создание (baseline-2026-01) → [живёт как история]
                                    ↓
Создание (baseline-2026-06) → [актуальный]
```

**Хранение:**

| Возраст | Действие |
|---------|----------|
| Текущий + предыдущий | Держать в `audit/` |
| Старше 2-3 версий | Перенести в `audit/archive/` или удалить |

**Именование:** `baseline-YYYY-MM.md` или `audit-тема-YYYY-MM.md`

---

## Аудитории

### Developer (Разработчик)
- Кто: автор проекта в будущем, контрибьюторы
- Нужно: понимание архитектуры, способы решения задач
- Типы: How-to, Explanation, ADR

### AI-Agent (Claude Code и др.)
- Кто: AI-ассистенты при работе с кодом
- Нужно: точная информация, чёткая структура, метаданные
- Типы: Reference, ADR, Architecture
- Особенности: 
  - Предпочитает структурированные данные
  - Использует frontmatter для фильтрации
  - Не нуждается в "мягком" изложении

### Ops (DevOps / эксплуатация)
- Кто: тот, кто деплоит и поддерживает
- Нужно: конфигурация, деплой, мониторинг
- Типы: Reference, How-to

---

## Матрица: тип × аудитория

| Тип | Developer | AI-Agent | Ops |
|-----|-----------|----------|-----|
| Tutorial | ◐ | ○ | ○ |
| How-to | ● | ○ | ● |
| Reference | ● | ● | ● |
| Explanation | ● | ◐ | ○ |
| ADR | ● | ● | ○ |
| Proposal | ● | ○ | ○ |
| Audit | ● | ◐ | ○ |

● — основная аудитория  
◐ — может быть полезно  
○ — обычно не нужно

---

## Примеры из проекта bz2-video-transcriber

### Reference
- `docs/api-reference.md` — эндпоинты, параметры
- `docs/configuration.md` — переменные окружения
- `docs/data-formats.md` — структуры данных
- `docs/pipeline/*.md` — описание этапов

### Explanation
- `docs/ARCHITECTURE.md` — как устроена система
- `docs/overview.md` — общая картина
- `docs/research/*.md` — исследования и обоснования

### How-to
- `docs/deployment.md` — как развернуть
- `docs/testing.md` — как тестировать

### ADR
- `docs/decisions/001-stage-abstraction.md`
- `docs/decisions/007-remove-fallback-use-claude.md`
- ... (13 ADR в проекте)

### Proposal
- `docs/requirements/transcriptor-v2-requirements.md`

### Audit
- `docs/audit/baseline-2026-01.md`

### Tutorial
- Отсутствуют (один разработчик, не требуются)

---

## Как определить тип документа

```
Документ отвечает на вопрос:

"Как научиться?" 
  → Tutorial

"Как сделать конкретную задачу?" 
  → How-to

"Что это? Какие значения/параметры?" 
  → Reference

"Почему так устроено?" 
  → Explanation

"Что мы решили в точке X?" 
  → ADR

"Что мы планируем сделать?" 
  → Proposal

"Каково состояние системы на дату Y?" 
  → Audit
```

---

## Антипаттерны

### Смешение типов
❌ Документ одновременно объясняет "почему" и даёт справку по API

✅ Разделить на `ARCHITECTURE.md` (Explanation) и `api-reference.md` (Reference)

### Reference с рассуждениями
❌ В таблице параметров — абзацы о причинах выбора значений

✅ Таблица — только факты. Причины — ссылка на ADR или Explanation

### How-to без цели
❌ "Работа с конфигурацией" (непонятно, какую задачу решаем)

✅ "Как добавить нового AI-провайдера"

### ADR, который обновляют
❌ Меняют текст ADR при изменении решения

✅ Создают новый ADR со статусом "supersedes ADR-XXX"

---

## Связь с frontmatter

Тип документа указывается в поле `doc_type`:

```yaml
---
doc_type: reference    # tutorial | how-to | reference | explanation | adr | proposal | audit
audience: [developer, ai-agent]
status: active
---
```

См. [Frontmatter Standard](standards/frontmatter.md)

---

## Ссылки

- [Diátaxis](https://diataxis.fr/) — оригинальный фреймворк
- [The Good Docs Project](https://thegooddocsproject.dev/) — шаблоны документации
- [ADR GitHub](https://adr.github.io/) — про Architecture Decision Records

---

## Changelog

| Дата | Изменение |
|------|-----------|
| 2026-01-23 | Добавлены жизненные циклы, расширено описание Proposal |
| 2026-01-23 | Создан документ |
